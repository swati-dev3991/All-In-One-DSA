(function(){OBR.clip=OBR.clip||function(){function a(k){var m=k.element;m.autoplay&&(new OBR.IntersectionObserver({callback:function(n){return 0<n.intersectionRatio?m.play():m.pause()},element:m,threshold:0,intersectPercentage:-1,unobserve:!1})).observe()}function b(k){var m=k.element;k.cF.addEventListener("click",function(n){m.play();return f(n)})}function c(k){var m=k.Py;k.element.addEventListener("ended",function(){var n=k.element;if(0===k.Nl-1){n.removeAttribute("controls");k.Gr=!0;m.style.display=null;var h=
function(){n.removeEventListener("play",h);k.Gr=!1;m.style.display="none"};n.addEventListener("play",h)}})}function e(k){k.element.addEventListener("ended",function(){var m=k.element,n=k.Nl;0<n-1&&(k.Nl=n-1,m.play())})}function d(k){var m=k.element;m.addEventListener("click",function(n){m.paused?m.play():m.pause();return f(n)})}function f(k){k.stopPropagation();k.preventDefault();return!1}function g(k){return(k=OBR.c.K(k).querySelectorAll(".ob-rec-video[ob-data-clip]"))&&k.length?Array.from(k):[]}
return function(k){var m=k.A();m=g(m);var n=k.i("clipPauseOnClick",!1);m.forEach(function(h){h={element:h,Py:h.parentElement.querySelector(".ob-clip-end"),Gr:!1,Nl:h.hasAttribute("ob-data-loops")?+h.getAttribute("ob-data-loops"):1,cF:h.parentElement.querySelector(".ob-clip-replay")};n&&d(h);var l=h.element;l=l.closest?l.closest("a"):void 0;l&&l.style&&"webkitTapHighlightColor"in l.style&&(l.style.webkitTapHighlightColor="transparent");e(h);c(h);b(h);a(h)})}}();OBR.l.X(OBR.l.u.Jg);}).call(window);
